---
import type { Article } from '../types';

interface Props {
  articles: Article[];
}

const { articles } = Astro.props;

// 日付をフォーマット
const formatDate = (dateString: string) => {
  const date = new Date(dateString);
  return date.toLocaleDateString('ja-JP', {
    year: 'numeric',
    month: 'short',
    day: 'numeric'
  });
};
---

{articles.length > 0 && (
  <section class="mt-12 pt-8 border-t border-gray-200">
    <h2 class="text-2xl font-bold text-gray-900 mb-6">関連記事</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {articles.map((article) => (
        <a 
          href={`/articles/${article.slug}`}
          class="block bg-white rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow group"
        >
          <h3 class="font-bold text-gray-900 group-hover:text-blue-600 transition-colors mb-2 line-clamp-2">
            {article.title}
          </h3>
          <time class="text-sm text-gray-500" datetime={article.publishedAt}>
            {formatDate(article.publishedAt)}
          </time>
        </a>
      ))}
    </div>
  </section>
)}
